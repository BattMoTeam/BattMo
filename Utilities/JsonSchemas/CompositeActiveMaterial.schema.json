{
  "$id": "file://./CompositeActiveMateria.schema.json",
  "$schema": "http://json-schema.org/draft-07/schema#",
  "description": "Active Material containing a mix of Silicon and Graphite",
  "type": "object",

  "properties" : { "FirstMaterial" : { "$ref" : "#/$defs/material"},
                   "SecondMaterial" : { "$ref" : "#/$defs/material"},
                   "volumeFraction" : {"type" : "number"},
                   "use_particle_diffusion" : {"type" : "boolean"}
                 },
  "$defs" : {"material" : { "allOf" : [ {"$ref": "ThermalComponent.schema.json#thermalParameters"},
                                        {"properties" : { "Interface": {"$ref" : "Interface.schema.json"},
                                                          "SolidDiffusion": {"$ref" : "SolidDiffusionModel.schema.json"},
                                                          "electronicConductivity": {"type" : "number"},
                                                          "diffusionModelType" : {"type" : "string",
                                                                                  "enum" : ["full", "simple"]},
                                                          "activeMaterialFraction" : {"type" : "number"},
                                                          "volumeFraction" : {"type" : "number",
                                                                              "comment" : "the volume fraction for all material should be the same and match the volume fraction CompositeActiveMaterial"},
                                                          "BruggemanCoefficient" : {"type" : "number"}
                                                        }
                                        }
                                      ],

                            "anyOf" : [ {"properties" : {"diffusionModelType" : {"const" : "full"},
                                                         "SolidDiffusion" : {"$ref" : "FullSolidDiffusionModel.schema.json"}}
                                        },
                                        {"properties" : {"diffusionModelType" : {"const" : "simple"},
                                                         "SolidDiffusion" : {"$ref" : "SimplifiedSolidDiffusionModel.schema.json"}}
                                        },
                                        {"not" : {"properties" : {"diffusionModelType": {"type" : "string"}}}
                                        }
                                      ]
                          }
            }

}
             


