{
  "$id": "file://battmo/schemas/Electrode",
  "$schema": "http://json-schema.org/draft-07/schema#",
  "description": "Electrode",
  "type": "object",
  
  "properties" : { "electrode_case" : {"type" : "string",
                                       "enum" : ["standard", "composite"]},
                   "CurrentCollector" : {"$ref" : "CurrentCollector"},
                   "include_current_collectors" : {"type" : "boolean"}
                 },


  "anyOf" : [{"properties" : {"electrode_case" : {"const" : "composite"},
                              "ActiveMaterial" : {"$ref" : "CompositeActiveMaterial"}
                             }
             },
             {"not" : {"properties" : {"electode_case" : {"const" : "composite"}}},
              "ActiveMaterial" : {"$ref" : "ActiveMaterial"}
             }
            ],
  
  "anyOf" : [ {"properties" : {"include_current_collectors": {"const": true},
                               "required": ["CurrentCollector"]
                              }
              },
              {"properties" : {"include_current_collectors": {"const": false}
                              }
              }
            ]
}
