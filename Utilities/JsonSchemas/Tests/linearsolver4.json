{"library" : "matlab",
 "method" : "separate-variable-gmres",
  "gmres_options" : {"restart" : "default",
                     "tol" : "default",
                     "maxit" : "default"},
 "reduction" : {"doReduction" : true,
                "variables" : [{"name" : ["Control", "I"], "order" : 1, "special" : true},
                               {"name" : ["Control", "E"], "order" : 1, "special" : true}]
               },
 
 "preconditioners" : [{"name" : "potential",
                       "variables" : [["Electrolyte", "phi"],
                                      ["NegativeElectrode", "ActiveMaterial", "phi"],
                                      ["PositiveElectrode", "ActiveMaterial", "phi"],
                                      ["NegativeElectrode", "CurrentCollector", "phi"],
                                      ["PositiveElectrode", "CurrentCollector", "phi"],
                                      ["Control", "E"],
                                      ["Control", "I"],
                                      ["NegativeElectrode", "ActiveMaterial", "SolidDiffusion", "cSurface"],
                                      ["PositiveElectrode", "ActiveMaterial", "SolidDiffusion", "cSurface"]
                                     ],
                       "solver" : {"library" : "amgcl"}
                      },

                      {"name" : "concentration in negative electrode particles",
                       "variables" : [["NegativeElectrode", "ActiveMaterial", "SolidDiffusion", "c"]],
                       "solver" : {"library" : "amgcl"}
                      },
                      
                      {"name" : "concentration in positive electrode particles",
                       "variables" : [["PositiveElectrode", "ActiveMaterial", "SolidDiffusion", "c"]],
                       "solver" : {"library" : "amgcl"}
                      },

                      {"name" : "concentration in electrolyte",
                       "variables" : [["Electrolyte", "c"]],
                       "solver" : {"library" : "amgcl"}
                                  },

                      {"name" : "temperature",
                       "variables" : [["ThermalModel", "T"],
                                      ["NegativeElectrode", "ActiveMaterial", "SolidDiffusion", "cSurface"],
                                      ["PositiveElectrode", "ActiveMaterial", "SolidDiffusion", "cSurface"]
                                     ],
                       "solver" : {"library" : "amgcl"}}
                     ]
}
