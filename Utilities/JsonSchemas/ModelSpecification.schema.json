{
  "$id": "file://battmo/schemas/ModelSpecification",
  "$schema": "http://json-schema.org/draft-07/schema#",
  "description": "Overall model specification. Choice of physics and component that will be included in the model",
  "type": "object",

  "properties" : { "include_current_collectors" : {"type" : "boolean"},
                   "use_particle_diffusion" : {"type" : "boolean"},
                   "use_thermal" : {"type" : "boolean"},
                   "NegativeElectrode" : {"type" : "object",
                                          "properties": {"include_current_collectors": {"type" : "boolean"}}
                                         },
                   "PositiveElectrode" : {"type" : "object",
                                          "properties": {"include_current_collectors": {"type" : "boolean"}}
                                         }
                 },

  "allOf" : [ {"properties": {"NegativeElectrode":{"$ref" : "#/defs/checkCurrentCollector"}}},
              {"properties": {"PostiveElectrode": {"$ref" : "#/defs/checkCurrentCollector"}}},
              {"anyOf" : [ {"properties" : {"use_thermal": {"const": true}, "required": ["ThermalModel"]}},
                           {"not" : {"properties" : {"use_thermal": {"const": true}}}}
                         ]}
            ],
  
  "required" : ["use_thermal", "NegativeElectrode", "PositiveElectrode", "Electrolyte"],

  "defs" : {"checkCurrentCollector" : {"dependentSchemas" :
                                       { "include_current_collectors" :
                                         {"anyOf" : [{"properties" : {"include_current_collectors": {"const": true}},
                                                      "required" : ["CurrentCollector"]},
                                                     {"not" : {"properties" : {"include_current_collectors": {"const": true}}}}]}}}} 


}


  
