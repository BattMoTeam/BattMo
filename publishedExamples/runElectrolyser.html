<!DOCTYPE html>
<html class="writer-html5" lang="en">
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Alkaline Membrane Electrolyser &mdash; BattMo  documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css" />
      <link rel="stylesheet" type="text/css" href="../_static/sphinx_collapse.css" />
      <link rel="stylesheet" type="text/css" href="../_static/design-style.1e8bd061cd6da7fc9cf755528e8ffc24.min.css" />
      <link rel="stylesheet" type="text/css" href="../_static/css/custom.css" />

  
    <link rel="shortcut icon" href="../_static/battmologo.ico"/>
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/sphinx_highlight.js"></script>
        <script src="../_static/design-tabs.js"></script>
        <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Protonic Membrane model" href="runProtonicMembrane.html" />
    <link rel="prev" title="BattMo Julia bridge" href="../juliabridge.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            BattMo
              <img src="../_static/battmologo.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basicusage.html">Basic Usage</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../basicusage.html#a-first-battmo-model">A First <strong>BattMo</strong> Model</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../basicusage.html#define-parameters">Define Parameters</a></li>
<li class="toctree-l3"><a class="reference internal" href="../basicusage.html#run-simulation">Run Simulation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../basicusage.html#show-the-dashboard">Show the Dashboard</a></li>
<li class="toctree-l3"><a class="reference internal" href="../basicusage.html#explore-the-output">Explore the Output</a></li>
<li class="toctree-l3"><a class="reference internal" href="../basicusage.html#explore-the-grid">Explore the Grid</a></li>
<li class="toctree-l3"><a class="reference internal" href="../basicusage.html#explore-the-states">Explore the States</a></li>
<li class="toctree-l3"><a class="reference internal" href="../basicusage.html#plot-a-result">Plot a Result</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../basicusage.html#change-control-parameters">Change Control Parameters</a></li>
<li class="toctree-l2"><a class="reference internal" href="../basicusage.html#change-structural-parameters">Change Structural Parameters</a></li>
<li class="toctree-l2"><a class="reference internal" href="../basicusage.html#change-material-parameters">Change Material Parameters</a></li>
<li class="toctree-l2"><a class="reference internal" href="../basicusage.html#notebooks">Notebooks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../basicusage.html#next-steps">Next Steps</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../intermediate.html">Intermediate usage</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../intermediate.html#setup-a-p4d-model-using-mergejsonstructs">Setup a P4D Model using <code class="code docutils literal notranslate"><span class="pre">mergeJsonStructs</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="../intermediate.html#define-parameters">Define Parameters</a></li>
<li class="toctree-l3"><a class="reference internal" href="../intermediate.html#run-simulation">Run Simulation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../intermediate.html#visualize-results">Visualize Results</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../intermediate.html#file-links-and-insertions-with-parsebattmojson">File links and insertions with <code class="code docutils literal notranslate"><span class="pre">parseBattmoJson</span></code></a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../architecture.html">BattMo Model Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../json.html">JSON input specification</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../json.html#simulation-schema">Simulation Schema</a></li>
<li class="toctree-l2"><a class="reference internal" href="../json.html#material-parameters">Material Parameters</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../json.html#electrolyte">Electrolyte</a></li>
<li class="toctree-l3"><a class="reference internal" href="../json.html#electrode">Electrode</a></li>
<li class="toctree-l3"><a class="reference internal" href="../json.html#coating">Coating</a></li>
<li class="toctree-l3"><a class="reference internal" href="../json.html#active-material">Active Material</a></li>
<li class="toctree-l3"><a class="reference internal" href="../json.html#interface">Interface</a></li>
<li class="toctree-l3"><a class="reference internal" href="../json.html#solid-diffusion">Solid Diffusion</a></li>
<li class="toctree-l3"><a class="reference internal" href="../json.html#full-solid-diffusion">Full Solid Diffusion</a></li>
<li class="toctree-l3"><a class="reference internal" href="../json.html#binder">Binder</a></li>
<li class="toctree-l3"><a class="reference internal" href="../json.html#conducting-additive">Conducting Additive</a></li>
<li class="toctree-l3"><a class="reference internal" href="../json.html#current-collector">Current Collector</a></li>
<li class="toctree-l3"><a class="reference internal" href="../json.html#separator">Separator</a></li>
<li class="toctree-l3"><a class="reference internal" href="../json.html#thermal-model">Thermal Model</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../json.html#geometry-setup">Geometry Setup</a></li>
<li class="toctree-l2"><a class="reference internal" href="../json.html#simulation-control-parameters">Simulation Control Parameters</a></li>
<li class="toctree-l2"><a class="reference internal" href="../json.html#time-stepping-parameters">Time Stepping Parameters</a></li>
<li class="toctree-l2"><a class="reference internal" href="../json.html#solver-parameters">Solver Parameters</a></li>
<li class="toctree-l2"><a class="reference internal" href="../json.html#output-parameters">Output Parameters</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../geometryinput.html">Battery Geometries</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../geometryinput.html#batterygeneratorp2d">BatteryGeneratorP2D</a></li>
<li class="toctree-l2"><a class="reference internal" href="../geometryinput.html#batterygeneratorp3d">BatteryGeneratorP3D</a></li>
<li class="toctree-l2"><a class="reference internal" href="../geometryinput.html#batterygeneratorp4d">BatteryGeneratorP4D</a></li>
<li class="toctree-l2"><a class="reference internal" href="../geometryinput.html#spiralbatterygenerator">SpiralBatteryGenerator</a></li>
<li class="toctree-l2"><a class="reference internal" href="../geometryinput.html#coincellbatterygenerator">CoinCellBatteryGenerator</a></li>
<li class="toctree-l2"><a class="reference internal" href="../geometryinput.html#batterygeneratormultilayerpouch">BatteryGeneratorMultilayerPouch</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../advancedtopics.html">Advanced Usage</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../modelinitialisation.html">The Battery Simulation Model</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../modelinitialisation.html#initialisation-of-a-battery-simulation-model">Initialisation of a battery simulation model</a></li>
<li class="toctree-l3"><a class="reference internal" href="../modelinitialisation.html#inspection-of-the-model">Inspection of the model</a></li>
<li class="toctree-l3"><a class="reference internal" href="../modelinitialisation.html#computing-and-inspecting-some-standard-static-properties-of-the-model">Computing and inspecting some standard static properties of the model</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../controlinput.html">Control models</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../controlinput.html#json-input-control-interface">Json input control interface</a></li>
<li class="toctree-l3"><a class="reference internal" href="../controlinput.html#control-model-description">Control model description</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../soliddiffusion.html">Solid Diffusion Models</a></li>
<li class="toctree-l2"><a class="reference internal" href="../parsets.html">Parameter sets</a></li>
<li class="toctree-l2"><a class="reference internal" href="../units.html">Units</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../units.html#converting-units-in-battmo">Converting units in BattMo</a></li>
<li class="toctree-l3"><a class="reference internal" href="../units.html#units-and-json-input">Units and JSON input</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../thermal.html">Thermal Simulation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../optimisation.html">Optimization</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../optimisation.html#parameter-identification-example">Parameter identification example</a></li>
<li class="toctree-l3"><a class="reference internal" href="../optimisation.html#optimization-example">Optimization example</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../octave.html">Octave</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../juliabridge.html">BattMo Julia bridge</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../juliabridge.html#introduction">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../juliabridge.html#start-server">Start Server</a></li>
<li class="toctree-l2"><a class="reference internal" href="../juliabridge.html#send-simulation-parameters">Send simulation parameters</a></li>
<li class="toctree-l2"><a class="reference internal" href="../juliabridge.html#run-the-simulation">Run the simulation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../juliabridge.html#post-process-the-output">Post process the output</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Electrolyser simulation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#setup-input">Setup input</a></li>
<li class="toctree-l2"><a class="reference internal" href="#setup-model">Setup model</a></li>
<li class="toctree-l2"><a class="reference internal" href="#setup-the-initial-condition">Setup the initial condition</a></li>
<li class="toctree-l2"><a class="reference internal" href="#setup-the-schedule-with-the-time-discretization">Setup the schedule with the time discretization</a></li>
<li class="toctree-l2"><a class="reference internal" href="#setup-the-non-linear-solver">Setup the non-linear solver</a></li>
<li class="toctree-l2"><a class="reference internal" href="#run-the-simulation">Run the simulation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#visualize-the-results">Visualize the results</a></li>
<li class="toctree-l2"><a class="reference internal" href="#ph-distribution-plot">pH distribution plot</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="runProtonicMembrane.html">Protonic Membrane</a><ul>
<li class="toctree-l2"><a class="reference internal" href="runProtonicMembrane.html#model-overview">Model overview</a><ul>
<li class="toctree-l3"><a class="reference internal" href="runProtonicMembrane.html#governing-equations">Governing equations</a></li>
<li class="toctree-l3"><a class="reference internal" href="runProtonicMembrane.html#boundary-conditions">Boundary conditions</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="runProtonicMembrane.html#load-and-parse-input-from-given-json-files">Load and parse input from given json files</a></li>
<li class="toctree-l2"><a class="reference internal" href="runProtonicMembrane.html#input-structure-setup">Input structure setup</a></li>
<li class="toctree-l2"><a class="reference internal" href="runProtonicMembrane.html#model-setup">Model setup</a></li>
<li class="toctree-l2"><a class="reference internal" href="runProtonicMembrane.html#initial-state-setup">Initial state setup</a></li>
<li class="toctree-l2"><a class="reference internal" href="runProtonicMembrane.html#schedule-schedule">Schedule schedule</a></li>
<li class="toctree-l2"><a class="reference internal" href="runProtonicMembrane.html#simulation">Simulation</a></li>
<li class="toctree-l2"><a class="reference internal" href="runProtonicMembrane.html#plotting">Plotting</a></li>
<li class="toctree-l2"><a class="reference internal" href="runProtonicMembrane.html#evolution-of-the-faradic-efficiency">Evolution of the Faradic efficiency</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../gui.html">BattMo App</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../gui_features.html">Features</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../gui_features.html#use-default-materials">Use default materials</a></li>
<li class="toctree-l3"><a class="reference internal" href="../gui_features.html#define-your-own-materials">Define your own materials</a></li>
<li class="toctree-l3"><a class="reference internal" href="../gui_features.html#visualize-your-geometry">Visualize your geometry</a></li>
<li class="toctree-l3"><a class="reference internal" href="../gui_features.html#download-your-input-data">Download your input data</a></li>
<li class="toctree-l3"><a class="reference internal" href="../gui_features.html#visualize-and-download-your-results">Visualize and download your results</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../gui_calculations.html">Calculations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../gui_troubleshooting.html">Troubleshooting</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../gui_troubleshooting.html#unnatural-artifacts-in-your-results">Unnatural artifacts in your results</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../computationalGraph/graphdoc.html">Computational Graph</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../computationalGraph/graphdoc.html#a-simple-introduction-example">A simple introduction example</a></li>
<li class="toctree-l2"><a class="reference internal" href="../computationalGraph/graphdoc.html#graph-composition">Graph composition</a></li>
<li class="toctree-l2"><a class="reference internal" href="../computationalGraph/graphdoc.html#graph-setup-and-implementation">Graph Setup and Implementation</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../seealso.html">See Also</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../seealso.html#mrst">MRST</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../seealso.html#visualization">Visualization Tutorial</a></li>
<li class="toctree-l3"><a class="reference internal" href="../seealso.html#id2">Grid Factory Tutorial</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../seealso.html#fair-data">FAIR Data</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../bibliography.html">References</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">BattMo</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Alkaline Membrane Electrolyser</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/publishedExamples/runElectrolyser.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="alkaline-membrane-electrolyser">
<span id="runelectrolyser"></span><h1>Alkaline Membrane Electrolyser<a class="headerlink" href="#alkaline-membrane-electrolyser" title="Permalink to this heading"></a></h1>
<p><em>Generated from runElectrolyser.m</em></p>
<p>The implementation of a AEM simulation code was motivated by the need for better simulation capabilities for H2
electrolysis and the possibility to validate the code using an implementation we had access to, which is also the one
used in <span id="id1">[<a class="reference internal" href="../bibliography.html#id6" title="Michael Robert Gerhardt, Alejandro O Barnett, Thulile Khoza, Patrick Fortin, Sara Andrenacci, Alaa Y Faid, Pål Emil England Karstensen, Svein Sunde, and Simon Clark. An open-source continuum model for anion-exchange membrane water electrolysis. In Electrochemical Society Meeting Abstracts 243, number 36, 2002–2002. The Electrochemical Society, Inc., 2023.">GBK+23</a>]</span>. The mathematical model for AEM is complex andincludes many coupledprocesses . We refer
to the papers mentioned above for all the details. Here, we include a figure from <span id="id2">[<a class="reference internal" href="../bibliography.html#id6" title="Michael Robert Gerhardt, Alejandro O Barnett, Thulile Khoza, Patrick Fortin, Sara Andrenacci, Alaa Y Faid, Pål Emil England Karstensen, Svein Sunde, and Simon Clark. An open-source continuum model for anion-exchange membrane water electrolysis. In Electrochemical Society Meeting Abstracts 243, number 36, 2002–2002. The Electrochemical Society, Inc., 2023.">GBK+23</a>]</span> which
illustrates the following processes</p>
<ul class="simple">
<li><p>Two parallel ionic conduction path ways: ionomer and liquid electrolyte,</p></li>
<li><p>Water concentration gradient build-up in the membrane inducing water exchange between electrodes,</p></li>
<li><p>Water exchange between the liquid and gas phases in the electrolyte,</p></li>
<li><p>Hydroxide exchange between the electrolyte and ionomer.</p></li>
</ul>
<figure class="align-center" id="id5">
<a class="reference external image-reference" href="../_images/electolysermodeling.png"><img alt="../_images/electolysermodeling.png" src="../_images/electolysermodeling.png" /></a>
<figcaption>
<p><span class="caption-text">Illustration taken from <span id="id3">[<a class="reference internal" href="../bibliography.html#id6" title="Michael Robert Gerhardt, Alejandro O Barnett, Thulile Khoza, Patrick Fortin, Sara Andrenacci, Alaa Y Faid, Pål Emil England Karstensen, Svein Sunde, and Simon Clark. An open-source continuum model for anion-exchange membrane water electrolysis. In Electrochemical Society Meeting Abstracts 243, number 36, 2002–2002. The Electrochemical Society, Inc., 2023.">GBK+23</a>]</span></span><a class="headerlink" href="#id5" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>We use a model hierarchy which enables us to structure the code in a hopefully clearly readable way. The main model is
split into three models</p>
<ul class="simple">
<li><p>Oxygen Evolution Electrode,</p></li>
<li><p>Ionomer Membrane,</p></li>
<li><p>Hydrogen Evolution Electrode.</p></li>
</ul>
<figure class="align-center">
<a class="reference external image-reference" href="../_images/electrolyser1.png"><img alt="../_images/electrolyser1.png" src="../_images/electrolyser1.png" style="width: 100%;" /></a>
</figure>
<p>The electrode models share the same structure given by</p>
<ul class="simple">
<li><p>Porous Transport Layer,</p></li>
<li><p>Catalyst Layer,</p></li>
<li><p>Exchange Reactions Model,</p></li>
</ul>
<figure class="align-center">
<a class="reference external image-reference" href="../_images/electrolyser2.png"><img alt="../_images/electrolyser2.png" src="../_images/electrolyser2.png" style="width: 90%;" /></a>
</figure>
<p>The governing equations consists of charge and mass conservations equations with exchange source terms, see Figure. They
are assembled at each model level for the core parts while the coupling terms are assembled at levels above in the model
hierarchy. We use generic discrete spatial differentiation operators that can be applied to any dimension, even if the
geometry we have setup for the result in this model is only 1D. Once the equations are discretized in space, we
discretize in time and solve the resulting non-linear system of equations using an implicit scheme. This approach is
robust independently of the choice oftime step size. We use automatic differentiation to assemble the equations and compute the
derivative of the system that are needed in the Newton algorithmused to solve
the equations. These computation steps are in fact generic and we
rely on the BattMo infrastructure to run them.</p>
<figure class="align-center">
<a class="reference external image-reference" href="../_images/electrolyser3.png"><img alt="../_images/electrolyser3.png" src="../_images/electrolyser3.png" /></a>
</figure>
<p>We consider a one-dimensional electrolyser cell where the volume fractions of each component are given in Figure below.
We increase the current linearly from 0 to 3 A/cm^2. The pressures at the boundary are set to 1 atmosphere and the
<span class="math notranslate nohighlight">\(OH^{-}\)</span> concentration to 1 mol/litre.</p>
<figure class="align-center" id="id6">
<a class="reference external image-reference" href="../_images/electrolyter_volume_fractions.png"><img alt="../_images/electrolyter_volume_fractions.png" src="../_images/electrolyter_volume_fractions.png" /></a>
<figcaption>
<p><span class="caption-text">Volume fractions used initially in the cell. Illustration picture taken from <span id="id4">[<a class="reference internal" href="../bibliography.html#id6" title="Michael Robert Gerhardt, Alejandro O Barnett, Thulile Khoza, Patrick Fortin, Sara Andrenacci, Alaa Y Faid, Pål Emil England Karstensen, Svein Sunde, and Simon Clark. An open-source continuum model for anion-exchange membrane water electrolysis. In Electrochemical Society Meeting Abstracts 243, number 36, 2002–2002. The Electrochemical Society, Inc., 2023.">GBK+23</a>]</span>.</span><a class="headerlink" href="#id6" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>The input datas are given in a json format. A simple way to get acquainted to the format is to look at the examples used
in the example below. We provide also <a class="reference external" href="https://json-schema.org/">json schemas</a> that describes these inputs:</p>
<ul class="simple">
<li><p>Catalyst Layer  <a class="reference external" href="https://github.com/BattMoTeam/BattMo/blob/dev/Electrolyser/JsonSchemas/CatalystLayer.schema.json">CatalystLayer.schema.json</a></p></li>
<li><p>Electrolyser  <a class="reference external" href="https://github.com/BattMoTeam/BattMo/blob/dev/Electrolyser/JsonSchemas/Electrolyser.schema.json">Electrolyser.schema.json</a></p></li>
<li><p>Evolution Electrode  <a class="reference external" href="https://github.com/BattMoTeam/BattMo/blob/dev/Electrolyser/JsonSchemas/EvolutionElectrode.schema.json">EvolutionElectrode.schema.json</a></p></li>
<li><p>Exchange Reaction  <a class="reference external" href="https://github.com/BattMoTeam/BattMo/blob/dev/Electrolyser/JsonSchemas/ExchangeReaction.schema.json">ExchangeReaction.schema.json</a></p></li>
<li><p>Ionomer Membrane  <a class="reference external" href="https://github.com/BattMoTeam/BattMo/blob/dev/Electrolyser/JsonSchemas/IonomerMembrane.schema.json">IonomerMembrane.schema.json</a></p></li>
<li><p>Porous Transport Layer  <a class="reference external" href="https://github.com/BattMoTeam/BattMo/blob/dev/Electrolyser/JsonSchemas/PorousTransportLayer.schema.json">PorousTransportLayer.schema.json</a></p></li>
<li><p>Electrolyser Geometry  <a class="reference external" href="https://github.com/BattMoTeam/BattMo/blob/dev/Electrolyser/JsonSchemas/ElectrolyserGeometry.schema.json">ElectrolyserGeometry.schema.json</a></p></li>
</ul>
<p>Here comes the listing of the code:</p>
<section id="setup-input">
<h2>Setup input<a class="headerlink" href="#setup-input" title="Permalink to this heading"></a></h2>
<p>Setup the physical properties for the electrolyser using json input file <a class="reference external" href="https://github.com/BattMoTeam/BattMo/blob/dev/Electrolyser/Parameters/alkalineElectrolyser.json">alkalineElectrolyser.json</a></p>
<div class="highlight-matlab notranslate"><div class="highlight"><pre><span></span><span class="n">jsonstruct</span><span class="p">=</span><span class="w"> </span><span class="n">parseBattmoJson</span><span class="p">(</span><span class="s">&#39;Electrolyser/Parameters/alkalineElectrolyser.json&#39;</span><span class="p">);</span>
<span class="n">inputparams</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">ElectrolyserInputParams</span><span class="p">(</span><span class="n">jsonstruct</span><span class="p">);</span>
</pre></div>
</div>
<p>Setup the grids. We consider a 1D model and the specifications can be read from a json input file, here <a class="reference external" href="https://github.com/BattMoTeam/BattMo/blob/dev/Electrolyser/Parameters/electrolysergeometry1d.json">electrolysergeometry1d.json</a>, using <a class="reference external" href="https://github.com/BattMoTeam/BattMo/blob/dev/Electrolyser/Utilities/setupElectrolyserGridFromJson.m">setupElectrolyserGridFromJson</a>.</p>
<div class="highlight-matlab notranslate"><div class="highlight"><pre><span></span><span class="n">jsonstruct</span><span class="p">=</span><span class="w"> </span><span class="n">parseBattmoJson</span><span class="p">(</span><span class="s">&#39;Electrolyser/Parameters/electrolysergeometry1d.json&#39;</span><span class="p">);</span>
<span class="n">inputparams</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">setupElectrolyserGridFromJson</span><span class="p">(</span><span class="n">inputparams</span><span class="p">,</span><span class="w"> </span><span class="n">jsonstruct</span><span class="p">);</span>
</pre></div>
</div>
<p>We define shortcuts for the different submodels.</p>
<div class="highlight-matlab notranslate"><div class="highlight"><pre><span></span><span class="n">inm</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&#39;IonomerMembrane&#39;</span><span class="p">;</span>
<span class="n">her</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&#39;HydrogenEvolutionElectrode&#39;</span><span class="p">;</span>
<span class="n">oer</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&#39;OxygenEvolutionElectrode&#39;</span><span class="p">;</span>
<span class="n">ptl</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&#39;PorousTransportLayer&#39;</span><span class="p">;</span>
<span class="n">exr</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&#39;ExchangeReaction&#39;</span><span class="p">;</span>
<span class="n">ctl</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&#39;CatalystLayer&#39;</span><span class="p">;</span>
</pre></div>
</div>
</section>
<section id="setup-model">
<h2>Setup model<a class="headerlink" href="#setup-model" title="Permalink to this heading"></a></h2>
<div class="highlight-matlab notranslate"><div class="highlight"><pre><span></span><span class="n">model</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">Electrolyser</span><span class="p">(</span><span class="n">inputparams</span><span class="p">);</span>
</pre></div>
</div>
</section>
<section id="setup-the-initial-condition">
<h2>Setup the initial condition<a class="headerlink" href="#setup-the-initial-condition" title="Permalink to this heading"></a></h2>
<p>We use the default initial setup implemented in the model</p>
<div class="highlight-matlab notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">model</span><span class="p">,</span><span class="w"> </span><span class="n">initstate</span><span class="p">]</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">model</span><span class="p">.</span><span class="n">setupBcAndInitialState</span><span class="p">();</span>
</pre></div>
</div>
</section>
<section id="setup-the-schedule-with-the-time-discretization">
<h2>Setup the schedule with the time discretization<a class="headerlink" href="#setup-the-schedule-with-the-time-discretization" title="Permalink to this heading"></a></h2>
<p>We run the simulation over 10 hours, increasing the input current linearly in time.</p>
<div class="highlight-matlab notranslate"><div class="highlight"><pre><span></span><span class="n">total</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="mi">10</span><span class="o">*</span><span class="nb">hour</span><span class="p">;</span>

<span class="n">n</span><span class="w">   </span><span class="p">=</span><span class="w"> </span><span class="mi">100</span><span class="p">;</span>
<span class="n">dt</span><span class="w">  </span><span class="p">=</span><span class="w"> </span><span class="n">total</span><span class="o">/</span><span class="n">n</span><span class="p">;</span>
<span class="n">dts</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">rampupTimesteps</span><span class="p">(</span><span class="n">total</span><span class="p">,</span><span class="w"> </span><span class="n">dt</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">);</span>
</pre></div>
</div>
<p>We use the function <a class="reference external" href="https://github.com/BattMoTeam/BattMo/blob/dev/Control/ControlFunctions/rampupControl.m">rampupControl</a> to increase the current linearly in time</p>
<div class="highlight-matlab notranslate"><div class="highlight"><pre><span></span><span class="n">controlI</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="o">-</span><span class="mi">3</span><span class="o">*</span><span class="n">ampere</span><span class="o">/</span><span class="p">(</span><span class="n">centi</span><span class="o">*</span><span class="n">meter</span><span class="p">)</span>^<span class="mi">2</span><span class="p">;</span><span class="w"> </span><span class="c">% if negative, O2 and H2 are produced</span>
<span class="n">tup</span><span class="w">      </span><span class="p">=</span><span class="w"> </span><span class="n">total</span><span class="p">;</span>
<span class="n">srcfunc</span><span class="w">  </span><span class="p">=</span><span class="w"> </span><span class="p">@(</span><span class="nb">time</span><span class="p">)</span><span class="w"> </span><span class="n">rampupControl</span><span class="p">(</span><span class="nb">time</span><span class="p">,</span><span class="w"> </span><span class="n">tup</span><span class="p">,</span><span class="w"> </span><span class="n">controlI</span><span class="p">,</span><span class="w"> </span><span class="s">&#39;rampupcase&#39;</span><span class="p">,</span><span class="w"> </span><span class="s">&#39;linear&#39;</span><span class="p">);</span>
<span class="n">control</span><span class="w">  </span><span class="p">=</span><span class="w"> </span><span class="nb">struct</span><span class="p">(</span><span class="s">&#39;src&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">srcfunc</span><span class="p">);</span>

<span class="nb">step</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nb">struct</span><span class="p">(</span><span class="s">&#39;val&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">dts</span><span class="p">,</span><span class="w"> </span><span class="s">&#39;control&#39;</span><span class="p">,</span><span class="w"> </span><span class="nb">ones</span><span class="p">(</span><span class="nb">numel</span><span class="p">(</span><span class="n">dts</span><span class="p">),</span><span class="w"> </span><span class="mi">1</span><span class="p">));</span>
<span class="n">schedule</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nb">struct</span><span class="p">(</span><span class="s">&#39;control&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">control</span><span class="p">,</span><span class="w"> </span><span class="s">&#39;step&#39;</span><span class="p">,</span><span class="w"> </span><span class="nb">step</span><span class="p">);</span>
</pre></div>
</div>
</section>
<section id="setup-the-non-linear-solver">
<h2>Setup the non-linear solver<a class="headerlink" href="#setup-the-non-linear-solver" title="Permalink to this heading"></a></h2>
<p>We do only minor modifications here from the standard solver</p>
<div class="highlight-matlab notranslate"><div class="highlight"><pre><span></span><span class="n">nls</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">NonLinearSolver</span><span class="p">();</span>
<span class="n">nls</span><span class="p">.</span><span class="n">verbose</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="n">nls</span><span class="p">.</span><span class="n">errorOnFailure</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>

<span class="n">model</span><span class="p">.</span><span class="n">verbose</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
</pre></div>
</div>
</section>
<section id="run-the-simulation">
<h2>Run the simulation<a class="headerlink" href="#run-the-simulation" title="Permalink to this heading"></a></h2>
<div class="highlight-matlab notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="o">~</span><span class="p">,</span><span class="w"> </span><span class="n">states</span><span class="p">,</span><span class="w"> </span><span class="n">report</span><span class="p">]</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">simulateScheduleAD</span><span class="p">(</span><span class="n">initstate</span><span class="p">,</span><span class="w"> </span><span class="n">model</span><span class="p">,</span><span class="w"> </span><span class="n">schedule</span><span class="p">,</span><span class="w"> </span><span class="s">&#39;NonLinearSolver&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">nls</span><span class="p">,</span><span class="w"> </span><span class="s">&#39;OutputMiniSteps&#39;</span><span class="p">,</span><span class="w"> </span><span class="nb">true</span><span class="p">);</span>
</pre></div>
</div>
</section>
<section id="visualize-the-results">
<h2>Visualize the results<a class="headerlink" href="#visualize-the-results" title="Permalink to this heading"></a></h2>
<p>The results contain only the primary variables of the system (the unknwons that descrive the state of the system). We use the method <code class="code docutils literal notranslate"><span class="pre">addVariables</span></code> to add all the intermediate quantities that are computed to solve the equations but not stored automatically in the result.</p>
<div class="highlight-matlab notranslate"><div class="highlight"><pre><span></span><span class="k">for</span><span class="w"> </span><span class="n">istate</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="nb">numel</span><span class="p">(</span><span class="n">states</span><span class="p">)</span>
<span class="w">    </span><span class="n">states</span><span class="p">{</span><span class="n">istate</span><span class="p">}</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">model</span><span class="p">.</span><span class="n">addVariables</span><span class="p">(</span><span class="n">states</span><span class="p">{</span><span class="n">istate</span><span class="p">});</span>
<span class="k">end</span>
</pre></div>
</div>
<p>We extract the time, voltage and current values for each time step</p>
<div class="highlight-matlab notranslate"><div class="highlight"><pre><span></span><span class="nb">time</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nb">cellfun</span><span class="p">(@(</span><span class="n">state</span><span class="p">)</span><span class="w"> </span><span class="n">state</span><span class="p">.</span><span class="n">time</span><span class="p">,</span><span class="w"> </span><span class="n">states</span><span class="p">);</span>
<span class="n">E</span><span class="w">    </span><span class="p">=</span><span class="w"> </span><span class="nb">cellfun</span><span class="p">(@(</span><span class="n">state</span><span class="p">)</span><span class="w"> </span><span class="n">state</span><span class="p">.(</span><span class="n">oer</span><span class="p">).(</span><span class="n">ptl</span><span class="p">).</span><span class="n">E</span><span class="p">,</span><span class="w"> </span><span class="n">states</span><span class="p">);</span>
<span class="n">I</span><span class="w">    </span><span class="p">=</span><span class="w"> </span><span class="nb">cellfun</span><span class="p">(@(</span><span class="n">state</span><span class="p">)</span><span class="w"> </span><span class="n">state</span><span class="p">.(</span><span class="n">oer</span><span class="p">).(</span><span class="n">ctl</span><span class="p">).</span><span class="n">I</span><span class="p">,</span><span class="w"> </span><span class="n">states</span><span class="p">);</span>
</pre></div>
</div>
<p>We plot the results for the voltage and current</p>
<div class="highlight-matlab notranslate"><div class="highlight"><pre><span></span><span class="nb">set</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="s">&#39;defaultlinelinewidth&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">)</span>
<span class="nb">set</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="s">&#39;defaultaxesfontsize&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">15</span><span class="p">)</span>

<span class="nb">figure</span>
<span class="nb">subplot</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span>
<span class="nb">plot</span><span class="p">(</span><span class="nb">time</span><span class="o">/</span><span class="nb">hour</span><span class="p">,</span><span class="w"> </span><span class="n">E</span><span class="p">)</span>
<span class="nb">xlabel</span><span class="p">(</span><span class="s">&#39;time [hour]&#39;</span><span class="p">);</span>
<span class="nb">ylabel</span><span class="p">(</span><span class="s">&#39;voltage&#39;</span><span class="p">);</span>
<span class="nb">title</span><span class="p">(</span><span class="s">&#39;Polarisation curve&#39;</span><span class="p">);</span>

<span class="nb">subplot</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span>
<span class="nb">plot</span><span class="p">(</span><span class="nb">time</span><span class="o">/</span><span class="nb">hour</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="n">I</span><span class="o">/</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="p">(</span><span class="n">centi</span><span class="o">*</span><span class="n">meter</span><span class="p">)</span>^<span class="mi">2</span><span class="p">));</span>
<span class="nb">xlabel</span><span class="p">(</span><span class="s">&#39;time [hour]&#39;</span><span class="p">);</span>
<span class="nb">ylabel</span><span class="p">(</span><span class="s">&#39;Current [A/cm^2]&#39;</span><span class="p">);</span>
<span class="nb">title</span><span class="p">(</span><span class="s">&#39;Input current&#39;</span><span class="p">)</span>
</pre></div>
</div>
<figure class="align-default" style="width: 100%">
<img alt="../_images/runElectrolyser_01.png" src="../_images/runElectrolyser_01.png" />
</figure>
</section>
<section id="ph-distribution-plot">
<h2>pH distribution plot<a class="headerlink" href="#ph-distribution-plot" title="Permalink to this heading"></a></h2>
<p>We consider the three domains and plot the pH in each of those. We setup the helper structures to iterate over each domain for the plot.</p>
<div class="highlight-matlab notranslate"><div class="highlight"><pre><span></span><span class="n">models</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">{</span><span class="n">model</span><span class="p">.(</span><span class="n">oer</span><span class="p">).(</span><span class="n">ptl</span><span class="p">),</span><span class="w"> </span><span class="k">...</span>
<span class="w">          </span><span class="n">model</span><span class="p">.(</span><span class="n">her</span><span class="p">).(</span><span class="n">ptl</span><span class="p">),</span><span class="w"> </span><span class="k">...</span>
<span class="w">          </span><span class="n">model</span><span class="p">.(</span><span class="n">inm</span><span class="p">)};</span>

<span class="n">fields</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">{{</span><span class="s">&#39;OxygenEvolutionElectrode&#39;</span><span class="p">,</span><span class="w"> </span><span class="s">&#39;PorousTransportLayer&#39;</span><span class="p">,</span><span class="w"> </span><span class="s">&#39;concentrations&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">}</span><span class="w">  </span><span class="p">,</span><span class="w"> </span><span class="k">...</span>
<span class="w">          </span><span class="p">{</span><span class="s">&#39;HydrogenEvolutionElectrode&#39;</span><span class="p">,</span><span class="w"> </span><span class="s">&#39;PorousTransportLayer&#39;</span><span class="p">,</span><span class="w"> </span><span class="s">&#39;concentrations&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">},</span><span class="w"> </span><span class="k">...</span>
<span class="w">          </span><span class="p">{</span><span class="s">&#39;IonomerMembrane&#39;</span><span class="p">,</span><span class="w"> </span><span class="s">&#39;cOH&#39;</span><span class="p">}};</span>

<span class="n">h</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nb">figure</span><span class="p">();</span>
<span class="nb">set</span><span class="p">(</span><span class="n">h</span><span class="p">,</span><span class="w"> </span><span class="s">&#39;position&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="mi">800</span><span class="p">,</span><span class="w"> </span><span class="mi">450</span><span class="p">]);</span>
<span class="n">hold</span><span class="w"> </span><span class="s">on</span>

<span class="n">ntime</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nb">numel</span><span class="p">(</span><span class="nb">time</span><span class="p">);</span>
<span class="n">times</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nb">linspace</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">ntime</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">);</span>
<span class="n">cmap</span><span class="w">  </span><span class="p">=</span><span class="w"> </span><span class="n">cmocean</span><span class="p">(</span><span class="s">&#39;deep&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">);</span>

<span class="k">for</span><span class="w"> </span><span class="n">ifield</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="nb">numel</span><span class="p">(</span><span class="n">fields</span><span class="p">)</span>

<span class="w">    </span><span class="n">fd</span><span class="w">       </span><span class="p">=</span><span class="w"> </span><span class="n">fields</span><span class="p">{</span><span class="n">ifield</span><span class="p">};</span>
<span class="w">    </span><span class="n">submodel</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">models</span><span class="p">{</span><span class="n">ifield</span><span class="p">};</span>

<span class="w">    </span><span class="n">x</span><span class="w">    </span><span class="p">=</span><span class="w"> </span><span class="n">submodel</span><span class="p">.</span><span class="n">grid</span><span class="p">.</span><span class="n">cells</span><span class="p">.</span><span class="n">centroids</span><span class="p">;</span>

<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="n">itimes</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="nb">numel</span><span class="p">(</span><span class="n">times</span><span class="p">);</span>

<span class="w">        </span><span class="n">itime</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nb">floor</span><span class="p">(</span><span class="n">times</span><span class="p">(</span><span class="n">itimes</span><span class="p">));</span>
<span class="w">        </span><span class="c">% The method :code:`getProp` is used to recover the value from the state structure</span>
<span class="w">        </span><span class="n">val</span><span class="w">   </span><span class="p">=</span><span class="w"> </span><span class="n">model</span><span class="p">.</span><span class="n">getProp</span><span class="p">(</span><span class="n">states</span><span class="p">{</span><span class="n">itime</span><span class="p">},</span><span class="w"> </span><span class="n">fd</span><span class="p">);</span>
<span class="w">        </span><span class="n">pH</span><span class="w">    </span><span class="p">=</span><span class="w"> </span><span class="mi">14</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nb">log10</span><span class="p">(</span><span class="n">val</span><span class="o">/</span><span class="p">(</span><span class="n">mol</span><span class="o">/</span><span class="n">litre</span><span class="p">));</span>

<span class="w">        </span><span class="c">% plot of pH for the current submodel.</span>
<span class="w">        </span><span class="nb">plot</span><span class="p">(</span><span class="n">x</span><span class="o">/</span><span class="p">(</span><span class="n">milli</span><span class="o">*</span><span class="n">meter</span><span class="p">),</span><span class="w"> </span><span class="n">pH</span><span class="p">,</span><span class="w"> </span><span class="s">&#39;color&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">cmap</span><span class="p">(</span><span class="n">itimes</span><span class="p">,</span><span class="w"> </span><span class="p">:));</span>

<span class="w">    </span><span class="k">end</span>

<span class="k">end</span>

<span class="nb">xlabel</span><span class="p">(</span><span class="s">&#39;x  /  mm&#39;</span><span class="p">);</span>
<span class="nb">ylabel</span><span class="p">(</span><span class="s">&#39;pH&#39;</span><span class="p">);</span>
<span class="nb">title</span><span class="p">(</span><span class="s">&#39;pH distribution in electrolyser&#39;</span><span class="p">)</span>

<span class="nb">colormap</span><span class="p">(</span><span class="n">cmap</span><span class="p">)</span>
<span class="n">hColorbar</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nb">colorbar</span><span class="p">;</span>
<span class="nb">caxis</span><span class="p">([</span><span class="mi">0</span><span class="w"> </span><span class="mi">3</span><span class="p">]);</span>
<span class="n">hTitle</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nb">get</span><span class="p">(</span><span class="n">hColorbar</span><span class="p">,</span><span class="w"> </span><span class="s">&#39;Title&#39;</span><span class="p">);</span>
<span class="nb">set</span><span class="p">(</span><span class="n">hTitle</span><span class="p">,</span><span class="w"> </span><span class="s">&#39;string&#39;</span><span class="p">,</span><span class="w"> </span><span class="s">&#39;J (A/cm^2)&#39;</span><span class="p">);</span>
</pre></div>
</div>
<figure class="align-default" style="width: 100%">
<img alt="../_images/runElectrolyser_02.png" src="../_images/runElectrolyser_02.png" />
</figure>
<p>complete source code can be found <a class="reference internal" href="runElectrolyser_source.html#runelectrolyser-source"><span class="std std-ref">here</span></a></p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../juliabridge.html" class="btn btn-neutral float-left" title="BattMo Julia bridge" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="runProtonicMembrane.html" class="btn btn-neutral float-right" title="Protonic Membrane model" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2021-2023.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>